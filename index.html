<!DOCTYPE html>
<html>
    <head>
        <Title>Rock, Paper, Scissors</Title>
    </head>
    <body>
        <script>
        
        var roundWinner;
        var computerChoice;
        var playerChoice;
        

        function computerPlay() {
            let options = ["Rock", "Paper", "Scissors"];
            computerChoice = options[Math.floor(Math.random()*options.length)];
            computerChoice = computerChoice.toLowerCase();
            return computerChoice;
        }
        
        function playerPlay() {
            playerChoice = prompt("Rock, Paper or Scissors?").toLowerCase();
            if (playerChoice == "rock" || playerChoice == "paper" || playerChoice == "scissors") {
                playerChoice = playerChoice;
            } else {
                playerChoice = "Invalid Choice";
                console.log("Invalid Choice, Make another choice");
                playerPlay();
            }
            return playerChoice;
        }

        
        
        function oneRound () {

            computerPlay();
            playerPlay();

            if (computerChoice == "rock") {
                if (playerChoice == "rock") {
                    roundWinner = "both";
                    return ("Tie, play another round");

                } else if (playerChoice == "paper") {
                    roundWinner = "player";
                    return ("You win, Paper beats rock");
                
                } else if (playerChoice == "scissors") {
                    roundWinner = "computer";
                    return ("You lose. Scissors cuts paper")
                }

            } else if (computerChoice == "paper") {
                if (playerChoice == "rock") {
                    roundWinner = "computer";
                    return ("You lose. Paper beats rock");

                } else if (playerChoice == "paper") {
                    roundWinner = "both";
                    return ("Tie, play another round");
                
                } else if (playerChoice == "scissors") {
                    roundWinner = "player";
                    return ("You win. Scissors cuts paper")
                }
                

            } else if (computerChoice == "scissors") {
                if (playerChoice == "rock") {
                    roundWinner = "player";
                    return ("You win. Rock beats scissors");

                } else if (playerChoice == "paper") {
                    roundWinner = "computer";
                    return ("You lose. Scissors cuts paper");
                
                } else if (playerChoice == "scissors") {
                    roundWinner = "both";
                    return ("Tie,  play another round")
                    
                }
            }
                
        }

        function game() {
            for (i=1; i<=5; i++) {
                console.log("Round " + i);
                oneRound();
                console.log(oneRound());
                winner();
            }

            if (computerScore > playerScore) {
                console.log ("THE WINNER IS COMPUTER");
            } else if (computerScore < playerScore) {
                console.log ("THE WINNER IS PLAYER");
            } else if (computerScore == playerScore) {
                console.log ("GAME ENDS IN A TIE")
            }

        }
        
        let computerScore = 0;
        let playerScore = 0;
        function winner() {
            if (roundWinner == "both"){
                computerScore += 0;
                playerScore += 0;
            }
            if (roundWinner == "computer") {
                computerScore += 1;
                playerScore += 0;
            }
            if (roundWinner == "player") {
                computerScore += 0;
                playerScore += 1;
            }
            console.log("Computer: " + computerScore +"     Player: " + playerScore);
        }


        </script>
    </body>
</html>